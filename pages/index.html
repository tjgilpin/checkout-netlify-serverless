<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stripe Checkout Jamstack Example</title>
    <link rel="stylesheet" href="_includes/assets/css/inline.css" />
  </head>
  <body>
    <header>
    </header>

    <main>
      <img src="../_includes/assets/img/header_logo.gif" alt="Die Online Psychologen" />
      <h1>Online Beratung</h1>
      <p>
        This demo is in test mode. That means you can check out using any of the
        <a href="https://stripe.com/docs/testing#cards">test card numbers</a>.
      </p>
      <section class="form">
        <form name="contact" method="POST" data-netlify="true">
          <h2>How would it be if you were no longer alone with your worries from now on?</h2>
          <p>
            <label>
              <input type="radio" name="worries" value="somewhat-relieving" />
              Somewhat relieving
            </label>   
            <label>
              <input type="radio" name="worries" value="relieving" />
              Relieving
            </label>   
            <label>
              <input type="radio" name="worries" value="very-relieving" />
              Very relieving
            </label>   
          </p>
          <h2>What would be the first thing you would notice if the problem was no longer there? </h2>
          <p>
            <label><input type="text" name="no-lomger-there" /></label>
          </p>
          <h2>How important is it to you, that as little data about you is collected online?</h2>
          <p>
            <label>
              <input type="radio" name="data" value="unimportant" />
              Unimportant
            </label>   
            <label>
              <input type="radio" name="data" value="important" />
              Important
            </label>  
            <label>
              <input type="radio" name="data" value="very-important" />
              Very Important
            </label>  
          </p>
          <h2>Are there shards in your life that you keep hurting yourself with? </h2>
          <p>
            <label>
              <input type="radio" name="shards" value="disagree" />
              Disagree
            </label>   
            <label>
              <input type="radio" name="shards" value="agree" />
              Agree
            </label>   
            <label>
              <input type="radio" name="shards" value="strongly-agree" />
              Strongly agree
            </label>  
          </p>          
          <h2>What do you feel is the weakest point in your life?</h2>
          <p>
            <label>
              <input type="radio" name="weakest-point" value="job" />
              Job
            </label>   
            <label>
              <input type="radio" name="weakest-point" value="partner" />
              Partner
            </label>   
            <label>
              <input type="radio" name="weakest-point" value="wellbeing" />
              Wellbeing
            </label>  
            <label>
              <input type="radio" name="weakest-point" value="family" />
              Family
            </label>  
            <label>
              <input type="radio" name="weakest-point" value="other"  id="weakest-point-other" />
              Other (please specify)
            </label>  
          </p>          
          <p class="weakest-point-describe">
            <label><input type="text" name="weakest-point-describe" /></label>
          </p>
          <p>
            <label>
              <input type="checkbox" name="submit-answers" id="submit-answers">
              I want my answers to be submitted to my psychologist
            </label>
          </p>
          <p>
            <button type="submit" disabled="disabled" disabled>Send</button>
          </p>
        </form>
      </section>
    </main>

    <footer>
    </footer>

    <script>
      function checkRadio() {
        const radios = document.querySelectorAll('input[name="weakest-point"]');
        const additional = document.querySelector('.weakest-point-describe');

        for(radio in radios) {
          radios[radio].onclick = function() {
            if (this.value == 'other') {
              additional.style.display = 'block';
            } else {
              additional.style.display = 'none';
            }
          }
        }
      }

      checkRadio();

      function submitBtn() {
        const submit = document.getElementById('submit-answers');
        const button = document.querySelector('button[type="submit"]');
        
        submit.addEventListener('change', function() {
          if (this.checked) {
            button.disabled = false;
          } else {
            button.disabled = true;
          }
        });
      } 

      submitBtn();

    </script>
  </body>
</html>
